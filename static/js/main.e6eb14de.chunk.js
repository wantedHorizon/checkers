(this["webpackJsonpreact-checkers"]=this["webpackJsonpreact-checkers"]||[]).push([[0],{14:function(e,t,a){e.exports=a(30)},19:function(e,t,a){},20:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(8),l=a.n(s),i=(a(19),a(1)),u=a(2),c=a(4),o=a(3),h=a(5);function v(e){return 1===Math.abs(e%2)}function p(e,t){return e[t.charAt(0)]}function m(e,t){for(var a in e)if(e.hasOwnProperty(a)&&t===e[a])return a;return!1}function y(e){return parseInt(e.charAt(1),10)}function f(e){return!0===e?"player1":"player2"}var d=function(){function e(t){Object(i.a)(this,e),this.columns=t}return Object(u.a)(e,[{key:"getCorners",value:function(e){var t=p(this.columns,e),a=y(e),r=t-1>=0&&m(this.columns,t-1),n=t+1<=7&&m(this.columns,t+1),s=a+1<9&&a+1,l=a-1>0&&a-1,i={};return i.leftUpper=!1!==r&&!1!==s?r+s:null,i.rightUpper=!1!==n&&!1!==s?n+s:null,i.leftLower=!1!==r&&!1!==l?r+l:null,i.rightLower=!1!==n&&!1!==l?n+l:null,i}},{key:"getMoves",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null===e[t])return[];var n,s=[],l=[],i={},u=this.getCorners(t),c=y(t),o=e[t].player,h="player1"===o?c-1:c+1;for(var v in u)if(u.hasOwnProperty(v)){var p=u[v];if(null!==p&&(a||!(p.indexOf(h)<0)))if(null===e[p])s.push(p);else{var m=e[p];if(m.player===o)continue;var f=this.getCorners(p),d=f[v];null===e[d]&&(i[p]=d,l.push(d))}}n=!1===r?s.concat(l):l;var b=l.length>0?i:null;return[n,b]}},{key:"movePiece",value:function(e,t){var a=Object.assign({},t.history[t.stepNumber]),r=Object.assign({},a.boardState),n=Object.assign({},r[t.activePiece]),s=[];for(var l in t.jumpKills)t.jumpKills.hasOwnProperty(l)&&s.push(t.jumpKills[l]);if(t.moves.indexOf(e)<0&&s.indexOf(e)<0)return null;this.shouldKing(n,e)&&(n.isKing=!0),r[t.activePiece]=null,r[e]=n;var i,u,c=n.player,o=null,h=[],v="player2"===c,p=null;s.indexOf(e)>-1&&(r[(i=t.jumpKills,u=e,Object.keys(i).find((function(e){return i[e]===u})))]=null,(h=this.getMoves(r,e,n.isKing,!0))[0].length>0?(o=!0,v=a.currentPlayer,p=e):o=null);!0===o&&h[0].length>0&&(v=a.currentPlayer,p=e);var m={};return m.boardState=r,m.currentPlayer=v,m.activePiece=p,m.moves=!0===o?h[0]:[],m.jumpKills=!0===o?h[1]:null,m.hasJumped=!0===o?c:null,m.winner=this.evaluateWinner(r),m}},{key:"shouldKing",value:function(e,t){if(!0===e.isKing)return!1;var a=y(t),r=e.player;return 1===a&&"player1"===r||8===a&&"player2"===r}},{key:"evaluateWinner",value:function(e){var t=0,a=0,r=0,n=0;for(var s in e)if(e.hasOwnProperty(s)&&null!==e[s]){var l=this.getMoves(e,s,e[s].isKing,!1)[0].length;"player1"===e[s].player?(++t,a+=l):(++r,n+=l)}return 0===t?"player2pieces":0===r?"player1pieces":0===a?"player2moves":0===n?"player1moves":null}}]),e}(),b=a(7),g=a.n(b);function P(e){var t=e.squareClasses,a=e.onClick;return n.a.createElement("button",{className:"square "+t,onClick:a})}var k=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"renderSquare",value:function(e,t){var a=this;return n.a.createElement(g.a,{className:"Tilt ",options:{scale:1.1,max:55},key:e},n.a.createElement(P,{key:e,squareClasses:t,onClick:function(){return a.props.onClick(e)}}))}},{key:"render",value:function(){var e=[],t=[],a=this.props.moves;for(var r in this.props.boardState)if(this.props.boardState.hasOwnProperty(r)){var s=p(this.props.columns,r),l=y(r),i=f(this.props.currentPlayer),u=v(s)&&v(l)||!v(s)&&!v(l)?"white":"black",c=[];if(c.push(r),c.push(u),this.props.activePiece===r&&c.push("isActive"),a.indexOf(r)>-1){var o="movable "+i+"-move";c.push(o)}null!==this.props.boardState[r]&&(c.push(this.props.boardState[r].player+" piece"),!0===this.props.boardState[r].isKing&&c.push("king")),c=c.join(" "),t.push(this.renderSquare(r,c,this.props.boardState[r])),t.length>=8&&(t=t.reverse(),e.push(n.a.createElement("div",{key:e.length,className:"board-col"},t)),t=[])}return e}}]),t}(n.a.Component),O=a(32),j=a(11),S=a.n(j),C=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"getComputerMoves",value:function(e,t){var a={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(null!=n&&n.player===t){var s=this.getMoves(e,r,e[r].isKing,!1);(s[0].length>0||null!==s[1])&&(a[r]=s)}}return a}},{key:"getSmartMove",value:function(e,t,a){for(var r=this.getComputerMoves(t,a),n=Object.keys(r),s={},l=0;l<n.length;++l){var i=n[l],u=r[i][0],c=r[i][1],o=[];for(var h in c)c.hasOwnProperty(h)&&o.push(c[h]);for(var v=0,p=null,m=0;m<u.length;++m){var y=u[m],f=0,d=Object.assign({},e);for(d.activePiece=i,d.moves=u,d.jumpKills=c,o.indexOf(y)>-1&&(f+=10);!1===d.currentPlayer;){var b=this.getMoves(d,d.activePiece,d.activePiece.isKing,!0);d.moves=b[0],d.jumpKills=b[1],f+=10}f>=v&&(v=f,p=y)}s[i]=[p,v]}var g=[],P=0;for(var k in s)if(s.hasOwnProperty(k)){var O=s[k][0],j=s[k][1];j>=P&&(j===P&&g.push([k,O]),j>P&&((g=[]).push([k,O]),P=j))}var S=g[Math.floor(Math.random()*g.length)],C={};return C.piece=S[0],C.moveTo=S[1],C}},{key:"getRandomMove",value:function(e,t){var a=this.getComputerMoves(e,t),r=Object.keys(a),n=r[Math.floor(Math.random()*r.length)],s=a[n][0],l=s[Math.floor(Math.random()*s.length)],i={};return i.piece=n,i.moveTo=l,i}}]),t}(d),N=a(9),w=a.n(N),E=(a(20),S()()),M={particles:{number:{value:60,density:{enable:!0,value_area:500}}}},K=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).columns=a.setColumns(),a.ReactCheckers=new d(a.columns),a.Opponent=new C(a.columns),a.state={players:null,history:[{boardState:a.createBoard(),currentPlayer:!0}],future:[],activePiece:null,moves:[],jumpKills:null,hasJumped:null,stepNumber:0,winner:null},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"setColumns",value:function(){var e={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7};return e}},{key:"createBoard",value:function(){var e={};for(var t in this.columns)if(this.columns.hasOwnProperty(t))for(var a=1;a<=8;++a){e[t+a]=null}return e=this.initPlayers(e)}},{key:"initPlayers",value:function(e){var t=this;return["a8","c8","e8","g8","b7","d7","f7","h7","a6","c6","e6","g6"].forEach((function(a){e[a]=t.createPiece(a,"player1")})),["b3","d3","f3","h3","a2","c2","e2","g2","b1","d1","f1","h1"].forEach((function(a){e[a]=t.createPiece(a,"player2")})),e}},{key:"createPiece",value:function(e,t){var a={};return a.player=t,a.location=e,a.isKing=!1,a}},{key:"getCurrentState",value:function(){var e=this.state.history.slice(0,this.state.stepNumber+1);return e[e.length-1]}},{key:"handleClick",value:function(e){if(null===this.state.winner){var t=this.getCurrentState(),a=t.boardState,r=a[e];if(null===r){if(null!==this.state.activePiece&&this.state.moves.length>0){var n=this.ReactCheckers.movePiece(e,this.state);if(null===n)return;this.updateStatePostMove(n),!1===n.currentPlayer&&null===n.winner&&this.computerTurn()}}else{if(r.player!==f(t.currentPlayer))return;if(this.state.activePiece===e&&null===this.state.hasJumped)return void this.setState({activePiece:null,moves:[],jumpKills:null});if(null!==this.state.hasJumped&&null!==a[e])return;var s=this.ReactCheckers.getMoves(a,e,r.isKing,!1);this.setState({activePiece:e,moves:s[0],jumpKills:s[1]})}}}},{key:"computerTurn",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.state.players>1||setTimeout((function(){var a,r,n,s=e.getCurrentState().boardState;null===t?(r=(a=e.Opponent.getSmartMove(e.state,s,"player2")).piece,n=a.moveTo):(a=e.ReactCheckers.getMoves(s,t,s[t].isKing,!0),r=t,n=a[0][Math.floor(Math.random()*a[0].length)]);var l=s[r],i=e.ReactCheckers.getMoves(s,r,l.isKing,!1);e.setState({activePiece:r,moves:i[0],jumpKills:i[1]}),setTimeout((function(){var t=e.ReactCheckers.movePiece(n,e.state);null!==t&&(e.updateStatePostMove(t),!1===t.currentPlayer&&e.computerTurn(t.activePiece))}),500)}),1e3)}},{key:"updateStatePostMove",value:function(e){this.setState({history:this.state.history.concat([{boardState:e.boardState,currentPlayer:e.currentPlayer}]),activePiece:e.activePiece,future:[],moves:e.moves,jumpKills:e.jumpKills,hasJumped:e.hasJumped,stepNumber:this.state.history.length,winner:e.winner})}},{key:"undo",value:function(){var e=parseInt(this.state.stepNumber,10)-1;if(!(e<0)){var t=this.state.future.slice();t.push(this.getCurrentState());var a=this.state.history.slice(0,e+1);this.setState({history:a,activePiece:null,future:t,moves:[],jumpKills:null,hasJumped:null,stepNumber:e,winner:null})}}},{key:"redo",value:function(){var e=this.state.future.slice();if(!(e.length<1)){var t=e[e.length-1];e.pop();var a=this.state.history.slice();a.push(t),this.setState({history:a,activePiece:null,future:e,moves:[],jumpKills:null,hasJumped:null,stepNumber:this.state.history.length,winner:null})}}},{key:"mainMenu",value:function(){this.setState({players:null,history:[{boardState:this.createBoard(),currentPlayer:!0}],activePiece:null,moves:[],jumpKills:null,hasJumped:null,stepNumber:0,winner:null})}},{key:"reset",value:function(){this.setState({history:[{boardState:this.createBoard(),currentPlayer:!0}],activePiece:null,moves:[],jumpKills:null,hasJumped:null,stepNumber:0,winner:null})}},{key:"setPlayers",value:function(e){this.setState({players:e})}},{key:"render",value:function(){var e,t=this,a=this.columns,r=this.state.history,s=this.state.activePiece,l=r[this.state.stepNumber],i=l.boardState,u=l.currentPlayer,c=this.state.moves,o="undo",h="undo";switch(this.state.stepNumber<1&&(o+=" disabled "),this.state.future.length<1&&(h+=" disabled "),this.state.winner){case"player1pieces":e="Player One Wins!";break;case"player2pieces":e="Player Two Wins!";break;case"player1moves":e="No moves left - Player One Wins!";break;case"player2moves":e="No moves left - Player Two Wins!";break;default:e=!0===l.currentPlayer?"Player One":"Player Two"}return null===this.state.players?n.a.createElement("div",{className:"App"},n.a.createElement(w.a,{className:"particles",params:M}),n.a.createElement(O.a,{history:E,basename:"react-checkers"},n.a.createElement("div",{className:"players-select"},n.a.createElement("h1",{className:"robo shadowH1"},"Checkers"),n.a.createElement("h2",{className:"robo shadowH2"}," "," Game    Mode"),n.a.createElement("div",{className:"players"},n.a.createElement("div",{className:"one-player cta-btn cta-btn--hero",onClick:function(){return t.setPlayers(1)}},"Single     Player")),n.a.createElement("div",{className:"players"},n.a.createElement("div",{className:"two-player cta-btn cta-btn--hero",onClick:function(){return t.setPlayers(2)}},"Two    Players"))))):n.a.createElement("div",{className:"App"},n.a.createElement(w.a,{className:"particles",params:M}),n.a.createElement(O.a,{history:E,basename:"react-checkers"},n.a.createElement("div",{className:"reactCheckers"},n.a.createElement("div",{className:"game-status robo"},e),n.a.createElement("div",{className:"game-board"},n.a.createElement(k,{boardState:i,currentPlayer:u,activePiece:s,moves:c,columns:a,onClick:function(e){return t.handleClick(e)}})),n.a.createElement("div",{className:"time-travel "},n.a.createElement(g.a,{className:"Tilt ",options:{scale:1.1,max:20}},n.a.createElement("button",{className:"main-menu robo",onClick:function(){return t.mainMenu()}},"Main Menu"),n.a.createElement("button",{className:o+" robo",onClick:function(){return t.reset()}},"Reset"),n.a.createElement("button",{className:o+" robo",onClick:function(){return t.undo()}},"Undo"),n.a.createElement("button",{className:h+" robo",onClick:function(){return t.redo()}},"Redo"))))))}}]),t}(n.a.Component);l.a.render(n.a.createElement(K,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.e6eb14de.chunk.js.map